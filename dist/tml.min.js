var p=function(c,t,o,n){var m;t[0]=0;for(var e=1;e<t.length;e++){var u=t[e++],r=t[e]?(t[0]|=u?1:2,o[t[e++]]):t[++e];u===3?n[0]=r:u===4?n[1]=Object.assign(n[1]||{},r):u===5?(n[1]=n[1]||{})[t[++e]]=r:u===6?n[1][t[++e]]+=r+"":u?(m=c.apply(r,p(c,r,o,["",null])),n.push(m),r[0]?t[0]|=2:(t[e-2]=0,t[e]=m)):n.push(r)}return n},d=new Map;function E(c){var t=d.get(this);return t||(t=new Map,d.set(this,t)),(t=p(this,t.get(c)||(t.set(c,t=function(o){for(var n,m,e=1,u="",r="",l=[0],s=function(i){e===1&&(i||(u=u.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?l.push(0,i,u):e===3&&(i||u)?(l.push(3,i,u),e=2):e===2&&u==="..."&&i?l.push(4,i,0):e===2&&u&&!i?l.push(5,0,!0,u):e>=5&&((u||!i&&e===5)&&(l.push(e,0,u,m),e=6),i&&(l.push(e,i,0,m),e=6)),u=""},f=0;f<o.length;f++){f&&(e===1&&s(),s(f));for(var a=0;a<o[f].length;a++)n=o[f][a],e===1?n==="<"?(s(),l=[l],e=3):u+=n:e===4?u==="--"&&n===">"?(e=1,u=""):u=n+u[0]:r?n===r?r="":u+=n:n==='"'||n==="'"?r=n:n===">"?(s(),e=1):e&&(n==="="?(e=5,m=u,u=""):n==="/"&&(e<5||o[f][a+1]===">")?(s(),e===3&&(l=l[0]),e=l,(l=l[0]).push(2,0,e),e=0):n===" "||n==="	"||n===`
`||n==="\r"?(s(),e=2):u+=n),e===3&&u==="!--"&&(e=4,l=l[0])}return s(),l}(c)),t),arguments,[])).length>1?t:t[0]}var v=(c,t,...o)=>(t===null&&(t={}),{tag:c,props:t,children:o}),b=E.bind(v);var x=(c,t)=>{for(let o in t)o[0]==="@"?c.addEventListener(o.slice(1),t[o]):c.setAttribute(o,t[o]);return c};function g(c){return c.map(t=>{if(typeof t=="object")if(Array.isArray(t)){let o=document.createDocumentFragment();if(t.length>=1){let n=g(t);for(let m of n)o.appendChild(m)}return o}else{let o=document.createElement(t.tag);if(o=x(o,t.props),t.children.length>=1){let n=g(t.children);for(let m of n)o.appendChild(m)}return o}else{let o=document.createDocumentFragment();return o.textContent=t,o}})}var j=c=>{let t;c.tag===""?t=document.createDocumentFragment():t=document.createElement(c.tag),t=x(t,c.props);for(let o of g(c.children))t.appendChild(o);return t};export{b as $,j as compile,v as tag};
